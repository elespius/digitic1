<!DOCTYPE html>
<html>
<head>
  <title>Styleguide with Hot Module Replacement HMR</title>

  <%= env_stylesheet_link_tag(static: 'application',
                              hot: 'application_hot',
                              media: 'all') %>

  <!-- This is to load the hot assets. -->
  <% domain = APP_CONFIG.domain.split(':').first %>
  <%= env_javascript_include_tag(hot: ["http://#{domain}:3500/vendor-bundle.js",
                                       "http://#{domain}:3500/app-bundle.js"]) %>

  <%= env_javascript_include_tag(static: 'application') %>

  <%= csrf_meta_tags %>
</head>
<body>
<% flash.each do |key, value| %>
  <%= content_tag :div, value, class: "flash #{key}" %>
<% end %>

<%= yield %>

<!-- This is a placeholder for ReactOnRails to know where to render the store props for
     client side hydration -->
<%= redux_store_hydration_data %>

</body>
</html>
